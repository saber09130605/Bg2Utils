{"version":3,"file":"bg2utils.esm.js","sources":["../src/types/common.ts","../src/utils/utils.ts","../src/index.ts"],"sourcesContent":["export enum Code {\r\n    SUCCESS=\"SUCCESS\",\r\n    NO_DOCUMENT=\"NO_DOCUMENT\",\r\n    COPY_ERROR=\"COPY_ERROR\"\r\n  }\r\n  export const CodeMessage : { [key in Code]: string }= {\r\n    [Code.SUCCESS]: \"成功\",\r\n    [Code.NO_DOCUMENT]:\"没有document\",\r\n    [Code.COPY_ERROR]:\"复制失败\"\r\n  }\r\n  export interface Response<T> {\r\n    code: Code;\r\n    message?: string;\r\n    data?: T;\r\n  }","import { Code,Response,CodeMessage } from '../types/common';\r\n\r\nexport function buildResponse<T>(code:Code,data?:T):Response<T> {\r\n  return {\r\n    code,\r\n    message: CodeMessage[code],\r\n    data\r\n  }\r\n}","import { buildResponse } from \"./utils/utils\";\r\nimport { Code, Response } from \"./types/common\";\r\nexport * from \"./types/common\";\r\nexport * from \"./utils/utils\";\r\n//复制到粘贴板\r\nexport const bg2CopyToClipboard = (text: string):Response<void> => {\r\n  if (!document) {\r\n    return  buildResponse(Code.NO_DOCUMENT)\r\n  }\r\n  // 创建一个textarea元素\r\n  const textarea = document.createElement('textarea');\r\n  \r\n  // 设置textarea的样式，使其在视觉上不可见\r\n  textarea.style.position = 'fixed';\r\n  textarea.style.top = '0';\r\n  textarea.style.left = '0';\r\n  textarea.style.opacity = '0';\r\n  // 将需要复制的文本赋值给textarea\r\n  textarea.value = text;\r\n  document.body.appendChild(textarea);\r\n  // 选中textarea中的文本\r\n  textarea.focus();\r\n  textarea.select();\r\n  try {\r\n    // 执行复制命令\r\n    const successful = document.execCommand('copy');\r\n    if (successful) {\r\n      // 如果复制成功，使用Element UI的Message组件显示成功提示\r\n      return buildResponse(Code.SUCCESS)\r\n    } else {\r\n      // 如果复制失败，显示失败提示\r\n      return  buildResponse(Code.COPY_ERROR)\r\n    }\r\n  } catch (err) {\r\n    // 如果执行复制命令时发生异常，显示异常提示\r\n    return  buildResponse(Code.COPY_ERROR)\r\n  } \r\n}"],"names":["Code","CodeMessage","_a","SUCCESS","NO_DOCUMENT","COPY_ERROR","buildResponse","code","data","message","bg2CopyToClipboard","text","document","textarea","createElement","style","position","top","left","opacity","value","body","appendChild","focus","select","execCommand","err"],"mappings":"MAAYA,GAAZ,SAAYA,GACRA,EAAA,QAAA,UACAA,EAAA,YAAA,cACAA,EAAA,WAAA,YACD,CAJH,CAAYA,IAAAA,EAIT,CAAA,QACYC,IAAWC,EAAA,CAAA,GACrBF,EAAKG,SAAU,KAChBD,EAACF,EAAKI,aAAa,aACnBF,EAACF,EAAKK,YAAY,UCNN,SAAAC,EAAiBC,EAAUC,GACzC,MAAO,CACLD,KAAIA,EACJE,QAASR,EAAYM,GACrBC,KAAIA,EAER,CCHO,IAAME,EAAqB,SAACC,GACjC,IAAKC,SACH,OAAQN,EAAcN,EAAKI,aAG7B,IAAMS,EAAWD,SAASE,cAAc,YAGxCD,EAASE,MAAMC,SAAW,QAC1BH,EAASE,MAAME,IAAM,IACrBJ,EAASE,MAAMG,KAAO,IACtBL,EAASE,MAAMI,QAAU,IAEzBN,EAASO,MAAQT,EACjBC,SAASS,KAAKC,YAAYT,GAE1BA,EAASU,QACTV,EAASW,SACT,IAGE,OAESlB,EAHUM,SAASa,YAAY,QAGjBzB,EAAKG,QAGJH,EAAKK,WAE9B,CAAC,MAAOqB,GAEP,OAAQpB,EAAcN,EAAKK,WAC5B,CACH"}